<!--Styling-->
<style>
    input[type=text], select {
        width: 100%;
        padding: 12px 20px;
        margin: 8px 0;
        display: inline-block;
        border: 1px solid #ccc;
        border-radius: 4px;
        box-sizing: border-box;
    }
    button {
        width: 100%;
        background-color: #0066FF;
        color: white;
        padding: 14px 20px;
        margin: 8px 0;
        border: none;
        border-radius: 4px;
        cursor: pointer;
    }
    div {
        border-radius: 5px;
        background-color: #f2f2f2;
        padding: 40px;
    }
</style>
<!--SRA Input-->

    <label for="sranum">SRA / SRX / SRP / GSE / GSM number</label>
    <input type="text" name="sranum" #sra>
    <button (click)="getsra(sra.value)" (click)="Selected()" id ='button1'>
        RETRIEVE
    </button>

<!--Selection-->
<!--<ul>-->
    <!--<span *ngFor="let ca of relevantdata; #i = index">-->
        <!--<input type="checkbox"  id="{{i}}"-->
               <!--#cv [checked]=false (change)="onChange(ca.id,cv.checked)">-->
        <!--{{i}},{{cv.checked}} <br>-->
    <!--</span>-->
<!--</ul>-->

<!--Displaying input-->
<ul *ngIf="output?.__zone_symbol__value?.length > 1">
<tr *ngFor="let item of output.__zone_symbol__value; #i = index">
    <div class="field">
        <input #{{item?.EXPERIMENT?.DESIGN?.LIBRARY_DESCRIPTOR?.LIBRARY_STRATEGY}} [ngModel] = 'item?.EXPERIMENT?.DESIGN?.LIBRARY_DESCRIPTOR?.LIBRARY_STRATEGY.selected' type="checkbox" (change)="checkbox(item?.EXPERIMENT?.DESIGN?.LIBRARY_DESCRIPTOR?.LIBRARY_STRATEGY, i)">

        ASSAY TYPE: {{item?.EXPERIMENT?.DESIGN?.LIBRARY_DESCRIPTOR?.LIBRARY_STRATEGY| displaypipe}}<br>

        BIOPROJECT: {{item?.EXPERIMENT?.alias | displaypipe}}<br>

        CENTRE NAME: {{item?.EXPERIMENT?.center_name | displaypipe}}<br>

        LIBRARY SELECTION: {{item?.EXPERIMENT?.DESIGN?.LIBRARY_DESCRIPTOR?.LIBRARY_SELECTION | displaypipe}}<br>

        LIBRARY SOURCE: {{item?.EXPERIMENT?.DESIGN.LIBRARY_DESCRIPTOR?.LIBRARY_SOURCE | displaypipe}}<br>

        LAYOUT: {{item?.EXPERIMENT?.DESIGN?.LIBRARY_DESCRIPTOR?.LIBRARY_LAYOUT | displaypipe | layoutpipe}}<br>

        RUN ACCESSION: <a href = "{{'ftp://ftp-trace.ncbi.nlm.nih.gov/sra/sra-instant/reads/ByRun/sra/'+(item?.RUN_SET?.RUN?.accession | displaypipe | linkpipe: 3)+'/'+(item?.RUN_SET?.RUN?.accession | displaypipe | linkpipe: 6)+'/'+(item?.RUN_SET?.RUN?.accession | displaypipe)+ '/'+(item?.RUN_SET.RUN.accession | displaypipe)+ '.sra'}}">{{item.RUN_SET.RUN.accession | displaypipe}}</a>
        <br>
        <tr *ngFor="let value of item.SAMPLE.SAMPLE_ATTRIBUTES.SAMPLE_ATTRIBUTE; #j = index">
    {{'STRAIN' + (j+1) + ': '}}{{value?.TAG + '_' + value?.VALUE}}<br> </tr>

        PROTOCOL: {{item?.EXPERIMENT?.DESIGN?.LIBRARY_DESCRIPTOR?.LIBRARY_CONSTRUCTION_PROTOCOL}}<br>

        ORGANISM: {{item?.Pool?.Member?.organism}} <br>
</div>
    <br>
</tr>
<!--<button class="button" (click) ="Selected()">SUBMIT</button>-->
</ul>


<ul *ngIf="!(output?.__zone_symbol__value | isarray) && output?.__zone_symbol__value">
    <div class="field">
    ASSAY TYPE: {{output?.__zone_symbol__value?.EXPERIMENT?.DESIGN?.LIBRARY_DESCRIPTOR?.LIBRARY_STRATEGY| displaypipe}}<br>
    BIOPROJECT: {{output?.__zone_symbol__value?.EXPERIMENT?.alias | displaypipe}}<br>
    CENTRE NAME: {{output?.__zone_symbol__value?.EXPERIMENT?.center_name | displaypipe}}<br>
    LIBRARY SELECTION: {{output?.__zone_symbol__value?.EXPERIMENT?.DESIGN?.LIBRARY_DESCRIPTOR?.LIBRARY_SELECTION | displaypipe}}<br>
    LIBRARY SOURCE: {{output?.__zone_symbol__value?.EXPERIMENT?.DESIGN.LIBRARY_DESCRIPTOR?.LIBRARY_SOURCE | displaypipe}}<br>
    LAYOUT: {{output?.__zone_symbol__value?.EXPERIMENT?.DESIGN?.LIBRARY_DESCRIPTOR?.LIBRARY_LAYOUT | displaypipe | layoutpipe}}<br>
    RUN ACCESSION: <a href = "{{'ftp://ftp-trace.ncbi.nlm.nih.gov/sra/sra-instant/reads/ByRun/sra/'+(output?.__zone_symbol__value?.RUN_SET?.RUN?.accession | displaypipe | linkpipe: 3)+'/'+(output?.__zone_symbol__value?.RUN_SET?.RUN?.accession | displaypipe | linkpipe: 6)+'/'+(output?.__zone_symbol__value?.RUN_SET?.RUN?.accession | displaypipe)+ '/'+(output?.__zone_symbol__value?.RUN_SET.RUN.accession | displaypipe)+ '.sra'}}">{{output?.__zone_symbol__value.RUN_SET.RUN.accession | displaypipe}}</a><br>
    <tr *ngFor="let value of output.__zone_symbol__value.SAMPLE.SAMPLE_ATTRIBUTES.SAMPLE_ATTRIBUTE; #j = index">
    {{'STRAIN' + (j+1) + ': '}}{{value?.TAG + '_' + value?.VALUE}}<br> </tr>
    PROTOCOL: {{output?.__zone_symbol__value?.EXPERIMENT?.DESIGN?.LIBRARY_DESCRIPTOR?.LIBRARY_CONSTRUCTION_PROTOCOL}}<br>
    ORGANISM: {{output?.__zone_symbol__value?.Pool?.Member?.organism}} <br>

</div>
</ul>